<%- include("partials/header"); -%>

<div class="row">
  <div class="form-group">
    <!-- <form id="modify-form" action="/modify" method="post">
      <button class="btn btn-delete" type="submit" name="button" value="delete">DELETE</button>
      <button class="btn btn-modify" type="submit" name="button" value="shipping"
        onclick="changeBackground(this)">CONFIRM SHIPPING</button>
    </form> -->
    <h2 class="title">HOME PAGE</h1>
  </div>
</div>

<!-- compare shipping dates in the array of javascript object and sort it in ascending order -->
<% function compare_date(a, b) { %>
<% if (a.shippingDate < b.shippingDate) { %>
<% return -1; %>
<% } else if (a.shippingDate > b.shippingDate) { %>
<% return 1; %>
<% } else { %>
<% return 0; %>
<% } %>
<% }; %>

<% function numberWithCommas(n) { %>
<% return n.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ","); %>
<% }; %>

<!-- show each item in the request information -->

<div class="a-request-group">
  <% requests.sort(compare_date).forEach(function(request) { %>
  <div class="a-request">
    <div class="a-request-inner">
      <div class="a-fixed-right-grid">
        <div class="a-fixed-right-grid-inner" style="overflow: hidden;">
          <div class="a-fixed-right-grid-col a-col-left">
            <div class="a-column38">
              <h5 class="a-column-header">Ship From</h5>
              <ul class="displayAddressUL">
                <li class="displayAddressLI"><%= request.shippingFrom %></li>
                <li class="displayAddressLI">Street Address</li>
                <li class="displayAddressLI">City, States, Zipcode</li>
                <li class="displayAddressLI">Country</li>
              </ul>
            </div>
            <div class="a-column38">
              <h5 class="a-column-header">Ship To</h5>
              <ul class="displayAddressUL">
                <li class="displayAddressLI"><%= request.customer %></li>
                <li class="displayAddressLI">Street Address</li>
                <li class="displayAddressLI">City, States, Zipcode</li>
                <li class="displayAddressLI">Country</li>
              </ul>
            </div>
            <div class="a-column23">
              <h5 class="a-column-header">Load Summary</h5>
              <div style="overflow: hidden;">
                <div class="a-column46">BOL No:</div>
                <div class="a-column53"><%= request.bolNo %></div>
              </div>
              <div style="overflow: hidden;">
                <div class="a-column46">Weight:</div>
                <div class="a-column53"><%= numberWithCommas(request.weightKg) %>kg / <%= numberWithCommas(request.weightLb) %>lb</div>
              </div>
              <div style="overflow: hidden;">
                <div class="a-column46">Truck Type:</div>
                <div class="a-column53"><%= request.truckType %></div>
              </div>
              <div style="overflow: hidden;">
                <div class="a-column46">Shipping Date:</div>
                <div class="a-column53"><%= request.shippingDate %></div>
              </div>
              <div style="overflow: hidden;">
                <div class="a-column46">Delivery Date:</div>
                <div class="a-column53"><%= request.deliveryDate %></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="a-special-note">
    <div class="a-request-inner">
      <div class="a-row">
        <% if (request.specialNote) { %>
          <h5 class="a-column-header">Special Note</h5>
        <div><%= request.specialNote %></div>
        <% } %>
      </div>
    </div>
  </div>
  <br>
  <% }) %>
</div>



<!-- </tbody> -->
<!-- </table> -->

<%- include("partials/footer"); -%>