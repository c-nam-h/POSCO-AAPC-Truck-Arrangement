<%- include("partials/header"); -%>

    <form id="delete-form" action="/delete" method="post">
      <button class="btn btn-modify" type="submit" name="button" value="delete">DELETE</button>
    </form>

        <table class="table table-hover text-center">
          <thead>
            <tr>
              <th class="text-center"><input type="checkbox" onClick="toggle(this)" hover="Select"></th>
              <th class="text-center">Customer</th>
              <th class="text-center">Shipping From</th>
              <th class="text-center">Delivery To</th>
              <th class="text-center">Shipping Date</th>
              <th class="text-center">Delivery Date</th>
              <th class="text-center">Weight(Kg)</th>
              <th class="text-center">Weight(Lb)</th>
              <th class="text-center">BOL No</th>
              <th class="text-center">Truck Type</th>
              <th class="text-center">Special Note</th>
            </tr>
          </thead>
          <tbody>

            <!-- compare shipping dates in the array of javascript object and sort it in ascending order -->
            <% function compare_date(a, b) { %>
              <% if (a.shippingDate < b.shippingDate) { %>
                <% return -1; %>
              <% } else if (a.shippingDate > b.shippingDate) { %>
                <% return 1; %>
              <% } else { %>
                <% return 0; %>
              <% } %>
            <% }; %>

            <!-- show each item in the request information -->
            <% requests.sort(compare_date).forEach(function(request) { %>
              <tr>
                  <th class="text-center"><input type="checkbox" name="checkbox" value="<%=request._id%>" form="delete-form"></th>
                  <td><%= request.customer %></td>
                  <td><%= request.shippingFrom %></td>
                  <td><%= request.deliveryTo %></td>
                  <td><%= request.shippingDate %></td>
                  <td><%= request.deliveryDate %></td>
                  <td><%= request.weightKg %></td>
                  <td><%= request.weightLb %></td>
                  <td><a href="/modify/<%=request._id%>"><%= request.bolNo %></a></td>
                  <td><%= request.truckType %></td>
                  <td><%= request.specialNote %></td>
              </tr>
            <% }) %>
          </tbody>
        </table>

<%- include("partials/footer"); -%>
